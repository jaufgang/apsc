# APSC Grist Database Schema

## Overview
- **API Base**: https://apsc.getgrist.com/api
- **Document ID**: tAax4Dr9FqwUQGNfzKdMaf

## Core Tables

### Member_List
Primary member information table.

| Column | Type | Description |
|--------|------|-------------|
| Membership_Type | Choice | Senior Sailor, Dormant, etc. |
| Membership_Number | Ref:Membership_ID | Foreign key to membership |
| Date_Joined | Date | When member joined |
| First_Name | Text | Member's first name |
| Last_Name | Text | Member's last name |
| Email | Text | Email address |
| Phone_1, Phone_2 | Text | Contact phones |
| Address, City, Prov, Postal_code | Text | Mailing address |
| Harbour_License | Numeric | Harbor license number |
| PCOC | Text | Pleasure Craft Operator Card |
| Vehicle | Text | License plates (comma-separated) |
| Paid_Keys | Numeric | Number of keys paid for |
| Key_Deposit | Numeric | Key deposit amount |
| Racer | Bool | Is a racer |
| c2022_WO_Owed | Numeric | 2022 work hours owed (money value) |
| c2023_WO_Required | Numeric | 2023 work hours required |
| c2024_WO_Required | Numeric | 2024 work hours required |
| c2025_WO_Required | Numeric | 2025 work hours required |
| Season_Joined | Text | Year joined (as string) |
| Date_Inactive | Date | When membership became inactive |
| UUID | Text | Unique identifier |
| Link | Text | Direct link to member page |
| Mooring2 | Ref:Boats | Linked boat for mooring |

### Membership_ID
Lookup table for membership IDs.

| Column | Type | Description |
|--------|------|-------------|
| Membership_Number | Numeric | The membership number |
| Status | Text | Membership status |
| Name | Any | Computed member name |
| UUID | Text | Unique identifier |
| Link | Text | Direct link |

### Boats
Boat information linked to memberships.

| Column | Type | Description |
|--------|------|-------------|
| Membership_Number | Ref:Membership_ID | Owner's membership |
| Boat_Name | Text | Name of boat |
| Boat_Make | Text | Make/model |
| LOA | Numeric | Length overall |
| Draft | Numeric | Draft depth |
| Weight | Numeric | Weight |
| Beam | Numeric | Beam width |
| Boat_Registration | Text | Registration number |
| Insurance | Attachments | Insurance documents |
| Insurance_Updated | Date | When insurance was updated |
| Mooring | Ref:Mooring_info | Assigned mooring |
| Sail_Number | Int | Sail number |

### T2023_WO_Completed / T2024_WO_Completed
Work hours completed per season.

| Column | Type | Description |
|--------|------|-------------|
| Membership_Number | Ref:Membership_ID | Member who did the work |
| Hours | Numeric | Hours completed |
| Name | Any | Computed member name |

### Mooring_info
Mooring ball information.

| Column | Type | Description |
|--------|------|-------------|
| Mooring2 | Numeric | Mooring number |
| Last_Inspected | Date | Last inspection date |
| Next_Inspection | Date | Next inspection date |
| Notes | Text | Notes about mooring |
| Boat_Name | Any | Computed boat name |

### Mooring_Rates
Rate schedule for moorings.

| Column | Type | Description |
|--------|------|-------------|
| Length | Numeric | Boat length |
| Base_Rate | Numeric | Base mooring rate |
| With_HST | Numeric | Rate with HST |
| Membership_Type | Text | Type of membership |
| Category | Text | Rate category |
| Work_Hours | Numeric | Required work hours |

### Payments
Payment tracking.

| Column | Type | Description |
|--------|------|-------------|
| Membership_Number | Ref:Membership_ID | Who paid |
| Payment_Date | Date | When payment was made |
| Payment | Numeric | Amount paid |
| c2023_WO_Paid | Numeric | Work hours paid off |
| HST_Paid | Numeric | HST portion |
| Category | Choice | Payment category |
| Season | Text | Which season |
| Comment | Text | Notes |

### Roles
Admin/role assignments.

| Column | Type | Description |
|--------|------|-------------|
| Member | Text | Member name |
| Role | Text | Role assignment |

### Fiscal_Year
Current fiscal year setting.

| Column | Type | Description |
|--------|------|-------------|
| Year | Int | Current fiscal year |

## Summary Tables (Auto-generated by Grist)
- `Member_List_summary_Membership_Type` - Members grouped by type
- `Member_List_summary_Membership_Number` - Members grouped by number
- `Member_List_summary_Season_Joined` - Members grouped by join season
- `Boats_summary_LOA/Draft/Weight` - Boats grouped by dimensions
- `Membership_ID_summary_Membership_Number` - Membership lookup summaries

## Notes
- Work hours are tracked as `c{YEAR}_WO_Required` and separate `T{YEAR}_WO_Completed` tables
- Members can have multiple people per membership number (families)
- Boats are linked to memberships, and moorings are linked to boats
- `WO` = Work Obligation (volunteer hours)
